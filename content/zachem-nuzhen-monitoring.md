+++
title = "Зачем нужен мониторинг"
description = "Почему мониторинг необходим для любого web-проекта, независимо от его размера."
date = 2020-05-27

[taxonomies]
tags = ["monitoring", "server"]
categories = ["monitoring", "meta"]
+++

Мониторинг — это процесс наблюдения за системой. Система имеет определённое внутреннее состояние и 
периодически взаимодействует с внешним миром. 

Системой может быть сайт, интернет-магазин или любое другое приложение.
Для интернет-магазина внутреннее состояние системы — это заказы, товары, данные об оплате, а взаимодействие 
с внешним миром — обработка платежей через банки (эквайринг).  

Процесс мониторинга может быть ручным, полу- или полностью автоматическим:
- ручной — открываем сайт и видим, что он успешно загрузился; 
- полуавтоматический — смотрим на градусник и принимаем решение, какую одежду надеть;
- автоматический — система уведомляет нас о сбоях или авариях.

### Автоматический мониторинг необходим для проектов любого размера

Для примера возьмём некий интернет-магазин, который продаёт детские игрушки. 
Заказы принимаются через сайт, круглосуточно. Операторы обрабатывают заявки с 9:00 до 17:00, каждый день. 
Вечером на сервере стартует задача для создания резервной копии базы данных и файлов сайта.

В один прекрасный день, по внешним обстоятельствам (обновление операционной системы, ошибка в приложении и т. п.), 
механизм архивации перестал работать. Об аварии никто не узнал, потому что мониторинг не был подключён.  

Владелец магазина решил обновить версию программного обеспечения, чтобы добавить возможность интеграции с Facebook. 
Обновление завершилось с ошибкой, потребовалось откатить файлы и базу данных до состояния вчерашнего дня. 
Так как механизм архивирования сломался месяц назад, то и данные в архиве 
остались месячной давности. При этом за прошедший месяц было добавлено 1000 товарных позиций, обновлена вёрстка сайта, 
опубликованы 30 новостей и 5 акций.

Перед владельцем магазина встал выбор: отказаться от месяца работ над сайтом или попытаться устранить ошибку обновления
текущей версии сайта. Независимо от выбранного варианта, бизнес понесёт убытки.

Если бы он подключил систему мониторинга, узнал бы об аварии заблаговременно.
 
### Мониторинг должен быть независим от той системы, за которой он наблюдает

Второй пример — агентство новостей. Каждый вечер оно рассылает своим подписчикам письмо с новостями за день.
В письме содержатся ссылки на сайт агентства и партнёрские сайты. Почтовая рассылка отправляется каждый день в 17:00 
с помощью специальной задачи на сервере. 

По внешним обстоятельствам (обновление операционной системы, ошибка в приложении и т. п.) 
изменился пароль для входа в учётную запись на почтовом сервере. 
В задаче рассылки был встроен механизм отправки письма на почту о состоянии задачи. 
Сотрудница, которая проверяла подобные письма, ушла на две недели в отпуск. Её почту переадресовали коллеге, 
но не проинформировали о необходимости следить за рассылкой. Главный редактор спокоен и уверен, 
что почтовая рассылка работает.

Наступает праздничный день, на который очень рассчитывают рекламодатели. Рассылка не приходит.
Один из партнёров пишет гневное письмо о том, что их реклама не публикуется, рассылки нет. 
В итоге агентство получает урон репутации и потерю прибыли. Полуавтоматический мониторинг с участием людей дал сбой.

Если бы компания подключила внешнюю и независимую систему мониторинга, то проблему рассылки удалось бы устранить 
в кратчайшие сроки.

### Задачи, с которыми робот справляется лучше, чем человек, следует доверить роботу

Непрерывный мониторинг требует большого внимания и сил. 
Люди устают, легко отвлекаются, забывают информацию, болеют и уходят в отпуска.
Автоматическая система мониторинга работает круглосуточно, не зная усталости, в рамках своей программы.

Поэтому механическую и рутинную работу лучше отдать роботам.

### Мониторинг как сервис

Существуют два вида приложений для непрерывного и автоматического мониторинга серверных задач: серверные и облачные.

Первые требуют установки на сервер, специальные знания по теме. Вторые предоставляют готовый сервис с поддержкой, 
без необходимости глубокого погружения в тему мониторинга.  

В облачных сервисах вам достаточно [подключить](https://docs.cronbox.ru/getting-started/) задачи 
к системе мониторинга — сервис будет следить за их выполнением и 
уведомит вас по почте и/или в Telegram, когда:
- задача отработала успешно;
- задача не запустилась или отработала с ошибкой;
- задача работала дольше, чем обычно.
